/*
 * Copyright (C) 2012 Alejandro Mery <amery@geeks.cl>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
#ifndef _SUNXI_PINCTRL_H
#define _SUNXI_PINCTRL_H

/* pin id = bank<<5 + port */
#define SUNXI_PIN_ID(B, N)	(((B)<<5) + (N)&0x1f)

#define SUNXI_PIN_BANK(V)	(((V)>>5)&0xf)
#define SUNXI_PIN_PORT(V)	((V)&0x1f)

/* traditional port names */
#define SUNXI_PA(N)	SUNXI_PIN_ID(0, N)
#define SUNXI_PB(N)	SUNXI_PIN_ID(1, N)
#define SUNXI_PC(N)	SUNXI_PIN_ID(2, N)
#define SUNXI_PD(N)	SUNXI_PIN_ID(3, N)
#define SUNXI_PE(N)	SUNXI_PIN_ID(4, N)
#define SUNXI_PF(N)	SUNXI_PIN_ID(5, N)
#define SUNXI_PG(N)	SUNXI_PIN_ID(6, N)
#define SUNXI_PH(N)	SUNXI_PIN_ID(7, N)
#define SUNXI_PI(N)	SUNXI_PIN_ID(8, N)

/* traditional pin names */
enum sunxi_pins {
	SUNXI_PA0 = 0x0,	/* Port A */
	SUNXI_PA1,
	SUNXI_PA2,
	SUNXI_PA3,
	SUNXI_PA4,
	SUNXI_PA5,
	SUNXI_PA6,
	SUNXI_PA7,
	SUNXI_PA8,
	SUNXI_PA9,
	SUNXI_PA10,
	SUNXI_PA11,
	SUNXI_PA12,
	SUNXI_PA13,
	SUNXI_PA14,
	SUNXI_PA15,
	SUNXI_PA16,
	SUNXI_PA17,
	SUNXI_PA18,
	SUNXI_PA19,
	SUNXI_PA20,
	SUNXI_PA21,
	SUNXI_PA22,
	SUNXI_PA23,
	SUNXI_PA24,
	SUNXI_PA25,
	SUNXI_PA26,
	SUNXI_PA27,
	SUNXI_PA28,
	SUNXI_PA29,
	SUNXI_PA30,
	SUNXI_PA31,
	SUNXI_PB0 = 0x20,	/* Port B */
	SUNXI_PB1,
	SUNXI_PB2,
	SUNXI_PB3,
	SUNXI_PB4,
	SUNXI_PB5,
	SUNXI_PB6,
	SUNXI_PB7,
	SUNXI_PB8,
	SUNXI_PB9,
	SUNXI_PB10,
	SUNXI_PB11,
	SUNXI_PB12,
	SUNXI_PB13,
	SUNXI_PB14,
	SUNXI_PB15,
	SUNXI_PB16,
	SUNXI_PB17,
	SUNXI_PB18,
	SUNXI_PB19,
	SUNXI_PB20,
	SUNXI_PB21,
	SUNXI_PB22,
	SUNXI_PB23,
	SUNXI_PB24,
	SUNXI_PB25,
	SUNXI_PB26,
	SUNXI_PB27,
	SUNXI_PB28,
	SUNXI_PB29,
	SUNXI_PB30,
	SUNXI_PB31,
	SUNXI_PC0 = 0x40,	/* Port C */
	SUNXI_PC1,
	SUNXI_PC2,
	SUNXI_PC3,
	SUNXI_PC4,
	SUNXI_PC5,
	SUNXI_PC6,
	SUNXI_PC7,
	SUNXI_PC8,
	SUNXI_PC9,
	SUNXI_PC10,
	SUNXI_PC11,
	SUNXI_PC12,
	SUNXI_PC13,
	SUNXI_PC14,
	SUNXI_PC15,
	SUNXI_PC16,
	SUNXI_PC17,
	SUNXI_PC18,
	SUNXI_PC19,
	SUNXI_PC20,
	SUNXI_PC21,
	SUNXI_PC22,
	SUNXI_PC23,
	SUNXI_PC24,
	SUNXI_PC25,
	SUNXI_PC26,
	SUNXI_PC27,
	SUNXI_PC28,
	SUNXI_PC29,
	SUNXI_PC30,
	SUNXI_PC31,
	SUNXI_PD0 = 0x60,	/* Port D */
	SUNXI_PD1,
	SUNXI_PD2,
	SUNXI_PD3,
	SUNXI_PD4,
	SUNXI_PD5,
	SUNXI_PD6,
	SUNXI_PD7,
	SUNXI_PD8,
	SUNXI_PD9,
	SUNXI_PD10,
	SUNXI_PD11,
	SUNXI_PD12,
	SUNXI_PD13,
	SUNXI_PD14,
	SUNXI_PD15,
	SUNXI_PD16,
	SUNXI_PD17,
	SUNXI_PD18,
	SUNXI_PD19,
	SUNXI_PD20,
	SUNXI_PD21,
	SUNXI_PD22,
	SUNXI_PD23,
	SUNXI_PD24,
	SUNXI_PD25,
	SUNXI_PD26,
	SUNXI_PD27,
	SUNXI_PD28,
	SUNXI_PD29,
	SUNXI_PD30,
	SUNXI_PD31,
	SUNXI_PE0 = 0x80,	/* Port E */
	SUNXI_PE1,
	SUNXI_PE2,
	SUNXI_PE3,
	SUNXI_PE4,
	SUNXI_PE5,
	SUNXI_PE6,
	SUNXI_PE7,
	SUNXI_PE8,
	SUNXI_PE9,
	SUNXI_PE10,
	SUNXI_PE11,
	SUNXI_PE12,
	SUNXI_PE13,
	SUNXI_PE14,
	SUNXI_PE15,
	SUNXI_PE16,
	SUNXI_PE17,
	SUNXI_PE18,
	SUNXI_PE19,
	SUNXI_PE20,
	SUNXI_PE21,
	SUNXI_PE22,
	SUNXI_PE23,
	SUNXI_PE24,
	SUNXI_PE25,
	SUNXI_PE26,
	SUNXI_PE27,
	SUNXI_PE28,
	SUNXI_PE29,
	SUNXI_PE30,
	SUNXI_PE31,
	SUNXI_PF0 = 0xa0,	/* Port F */
	SUNXI_PF1,
	SUNXI_PF2,
	SUNXI_PF3,
	SUNXI_PF4,
	SUNXI_PF5,
	SUNXI_PF6,
	SUNXI_PF7,
	SUNXI_PF8,
	SUNXI_PF9,
	SUNXI_PF10,
	SUNXI_PF11,
	SUNXI_PF12,
	SUNXI_PF13,
	SUNXI_PF14,
	SUNXI_PF15,
	SUNXI_PF16,
	SUNXI_PF17,
	SUNXI_PF18,
	SUNXI_PF19,
	SUNXI_PF20,
	SUNXI_PF21,
	SUNXI_PF22,
	SUNXI_PF23,
	SUNXI_PF24,
	SUNXI_PF25,
	SUNXI_PF26,
	SUNXI_PF27,
	SUNXI_PF28,
	SUNXI_PF29,
	SUNXI_PF30,
	SUNXI_PF31,
	SUNXI_PG0 = 0xc0,	/* Port G */
	SUNXI_PG1,
	SUNXI_PG2,
	SUNXI_PG3,
	SUNXI_PG4,
	SUNXI_PG5,
	SUNXI_PG6,
	SUNXI_PG7,
	SUNXI_PG8,
	SUNXI_PG9,
	SUNXI_PG10,
	SUNXI_PG11,
	SUNXI_PG12,
	SUNXI_PG13,
	SUNXI_PG14,
	SUNXI_PG15,
	SUNXI_PG16,
	SUNXI_PG17,
	SUNXI_PG18,
	SUNXI_PG19,
	SUNXI_PG20,
	SUNXI_PG21,
	SUNXI_PG22,
	SUNXI_PG23,
	SUNXI_PG24,
	SUNXI_PG25,
	SUNXI_PG26,
	SUNXI_PG27,
	SUNXI_PG28,
	SUNXI_PG29,
	SUNXI_PG30,
	SUNXI_PG31,
	SUNXI_PH0 = 0xe0,	/* Port H */
	SUNXI_PH1,
	SUNXI_PH2,
	SUNXI_PH3,
	SUNXI_PH4,
	SUNXI_PH5,
	SUNXI_PH6,
	SUNXI_PH7,
	SUNXI_PH8,
	SUNXI_PH9,
	SUNXI_PH10,
	SUNXI_PH11,
	SUNXI_PH12,
	SUNXI_PH13,
	SUNXI_PH14,
	SUNXI_PH15,
	SUNXI_PH16,
	SUNXI_PH17,
	SUNXI_PH18,
	SUNXI_PH19,
	SUNXI_PH20,
	SUNXI_PH21,
	SUNXI_PH22,
	SUNXI_PH23,
	SUNXI_PH24,
	SUNXI_PH25,
	SUNXI_PH26,
	SUNXI_PH27,
	SUNXI_PH28,
	SUNXI_PH29,
	SUNXI_PH30,
	SUNXI_PH31,
	SUNXI_PI0 = 0x100,	/* Port I */
	SUNXI_PI1,
	SUNXI_PI2,
	SUNXI_PI3,
	SUNXI_PI4,
	SUNXI_PI5,
	SUNXI_PI6,
	SUNXI_PI7,
	SUNXI_PI8,
	SUNXI_PI9,
	SUNXI_PI10,
	SUNXI_PI11,
	SUNXI_PI12,
	SUNXI_PI13,
	SUNXI_PI14,
	SUNXI_PI15,
	SUNXI_PI16,
	SUNXI_PI17,
	SUNXI_PI18,
	SUNXI_PI19,
	SUNXI_PI20,
	SUNXI_PI21,
	SUNXI_PI22,
	SUNXI_PI23,
	SUNXI_PI24,
	SUNXI_PI25,
	SUNXI_PI26,
	SUNXI_PI27,
	SUNXI_PI28,
	SUNXI_PI29,
	SUNXI_PI30,
	SUNXI_PI31,
};

/* pin value = func<<24 + dlevel<<16 + pull<<8 + val
 *
 * 0xff means "don't touch", negative counts as 0xff
 */
#define _SUNXI_PIN_CFG_SAFE(V)	(((V) < 0) ? 0xff : (V)&0xff)

#define SUNXI_PIN_CFG(F, L, P, V)	(_SUNXI_PIN_CFG_SAFE(F)<<24 | \
					 _SUNXI_PIN_CFG_SAFE(L)<<16 | \
					 _SUNXI_PIN_CFG_SAFE(P)<<8 | \
					 _SUNXI_PIN_CFG_SAFE(V))

#define SUNXI_PIN_CFG_FUNC(V)	((V)>>24)
#define SUNXI_PIN_CFG_DLVL(V)	(((V)>>16)&0xff)
#define SUNXI_PIN_CFG_PULL(V)	(((V)>>8)&0xff)
#define SUNXI_PIN_CFG_VAL(V)	((V)&0xff)

#endif
